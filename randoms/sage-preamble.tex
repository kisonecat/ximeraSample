\usepackage{currfile}

\makeatletter
\newcommand{\makerandom}{%
  \ST@wsf{jobname="\currfilebase"}%
  \ST@wsf{import hashlib}%
  \ST@wsf{set_random_seed(int(hashlib.sha256(jobname.encode('utf-8')).hexdigest(), 16))}%
}
\makeatother
